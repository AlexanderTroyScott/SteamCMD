version: "3.9"
networks:
  reverse-proxy:
    driver: overlay
    external: true
    
volumes:
  PalServer:

services:
  palworld:
    image: cm2network/steamcmd:latest
    hostname: palworld
    #user: root
    deploy:
      labels:
        - "traefik.enable=true"
        - "traefik.udp.routers.steamcmd.entrypoints=steamcmd"           # entrypoint->router
        - "traefik.udp.routers.palworld.service=steamcmd"               # router -> service
        - "traefik.udp.services.palworld.loadbalancer.server.port=8211" # port of service
    networks:
     - reverse-proxy
    volumes:
     - "PalServer:/home/steam/Steam/steamapps/common/PalServer"
    command: tail -f /dev/null
    #command: /home/steam/Steam/steamapps/common/PalServer/PalServer.sh
